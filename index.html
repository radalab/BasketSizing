<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Basket Sizing App</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { padding-top: 20px; padding-bottom: 20px; }
        .result-box { border: 1px solid #ddd; padding: 10px; margin-top: 20px; }
        .basket-section { border: 1px solid #007bff; padding: 15px; margin-bottom: 20px; border-radius: 5px; }
        
        @media print {
			.no-print, 
			button,
			.basket-section button,
			th:last-child, 
			td:last-child,
			#howItWorks {
				display: none !important;
			}
			.basket-section { break-inside: avoid; }
			body { padding-top: 0; }
			.container { width: 100%; max-width: none; }
			input, select { 
				border: none; 
				-webkit-appearance: none; 
				-moz-appearance: none; 
				appearance: none; 
			}
			.form-control, .form-select { font-weight: bold; }
			.card { border: none; }
			.card-header { background-color: transparent; border-bottom: 1px solid #000; }
			.table { border-collapse: collapse; }
			.table th, .table td { border: 1px solid #000; }
			.result-box { border: none; padding: 0; }
		}
    </style>
</head>
<body>
    <div class="container">
        <h1 class="mb-4">Basket Sizing</h1>
        
        <div class="card mb-4">
            <div class="card-header">
                <h5>Project Details</h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="projectName">Project Name:</label>
                        <input type="text" id="projectName" class="form-control" placeholder="Project Name">
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="projectDate">Date:</label>
                        <input type="date" id="projectDate" class="form-control">
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="basketHeight">Basket Height (mm):</label>
                        <select id="basketHeight" class="form-select">
                            <option value="30">30</option>
                            <option value="54">54</option>
                            <option value="105">105</option>
                        </select>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="spareCapacity">Spare Capacity (%):</label>
                        <input type="number" id="spareCapacity" class="form-control" value="40" min="0" max="100">
                    </div>
                </div>
            </div>
        </div>

        <div id="basketSections"></div>

        <button onclick="addBasketSection()" class="btn btn-primary mt-3 no-print">Add Basket</button>

        <div id="howItWorks" class="card mt-5">
            <div class="card-header">
                <h5>How It Works</h5>
            </div>
            <div class="card-body">
                <h6>Calculation Process:</h6>
                <ol>
                    <li><strong>Cable Area:</strong> For each cable, the cross-sectional area is calculated using π * (diameter/2)².</li>
                    <li><strong>Total Cable Area:</strong> The areas of all cables are summed, considering their quantities.</li>
                    <li><strong>Spare Capacity:</strong> The total area is increased by the specified spare capacity percentage.</li>
                    <li><strong>Required Width:</strong> The app calculates the required width using the formula: (Total Area * 2 * (1 + Spare Capacity)) / Basket Height.</li>
                    <li><strong>Basket Size Selection:</strong> The app recommends the smallest standard basket width that can accommodate the required width.</li>
                </ol>
                
                <h6>Standard Basket Widths:</h6>
                <p>50, 100, 150, 225, 300, 450, 600 mm</p>

                <p><strong>Note:</strong> The app provides recommendations based on calculations. Always consult with a qualified professional for final decisions on cable management systems.</p>
            </div>
        </div>
    </div>

    <script>
    const cableData = {
        "Cat5e U/UTP": 4.9,
        "Cat5e. F/UTP": 6.2,
        "Cat6 U/UTP": 6.3,
        "Cat6. F/UTP": 7.3,
        "Cat6A F/FTP": 7.0,
        "Cat6A. F/UTP": 7.5,
        "Cat7A S/FTP": 7.7,
        "Cat7A. 1600-S/FTP": 8.6,
        "FP PLUS-2x1.5mm2": 9.5,
        "FP PLUS-2x2.5mm2": 11.5,
        "FP PLUS-2x4mm2": 12.5,
        "FP PLUS-3x1.5mm2": 11.0,
        "FP PLUS-3x2.5mm2": 12.5,
        "FP PLUS-3x4mm2": 13.0,
        "FP PLUS-4x1.5mm2": 12.5,
        "FP PLUS-4x2.5mm2": 13.5,
        "FP PLUS-4x4mm2": 15.0,
        "FQQXB(security) 6 x 0,22 mm2": 4.3,
        "H05VV-F(power) 2x0.75 PVC": 6.2,
        "H05VV-F(power) 2x1 PVC": 6.4,
        "H05VV-F(power) 2x1.5 PVC": 7.4,
        "H05VV-F(power) 2x2.5 PVC": 9.2,
        "H05VV-F(power) 4x0.75 PVC": 7.1,
        "H05VV-F(power) 4x1 PVC": 7.6,
        "H05VV-F(power) 4x1.5 PVC": 9.0,
        "H05VV-F(power) 4x2.5 PVC": 10.9
    };

    const basketWidths = [50, 100, 150, 225, 300, 450, 600];

    function setCurrentDate() {
        const today = new Date().toISOString().split('T')[0];
        document.getElementById('projectDate').value = today;
    }

    function addBasketSection() {
        const basketSections = document.getElementById('basketSections');
        const sectionIndex = basketSections.children.length + 1;
        
        const section = document.createElement('div');
        section.className = 'basket-section';
        section.innerHTML = `
            <h4>Basket ${sectionIndex}</h4>
            <div class="mb-3">
                <label for="basketRef${sectionIndex}">Basket Reference:</label>
                <input type="text" id="basketRef${sectionIndex}" class="form-control" placeholder="Basket Reference">
            </div>
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>S/N</th>
                        <th>Cable Type</th>
                        <th>Diameter (mm)</th>
                        <th>Quantity</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
            <button onclick="addCable(${sectionIndex})" class="btn btn-secondary no-print">Add Cable</button>
			<button onclick="calculateBasket(${sectionIndex})" class="btn btn-success no-print">Calculate</button>
            <div class="result-box mt-3"></div>
        `;
        
        basketSections.appendChild(section);
        addCable(sectionIndex);
    }

    function addCable(sectionIndex) {
        const tbody = document.querySelector(`#basketSections > div:nth-child(${sectionIndex}) tbody`);
        const row = tbody.insertRow();
        
        // Serial Number
        const cellSN = row.insertCell();
        cellSN.textContent = tbody.rows.length;

        // Cable Type
        const cellType = row.insertCell();
        const selectType = document.createElement('select');
        selectType.className = 'form-select';
        selectType.innerHTML = '<option value="" selected disabled>Select cable type</option>';
        for (const type in cableData) {
            const option = document.createElement('option');
            option.value = option.textContent = type;
            selectType.appendChild(option);
        }
        selectType.onchange = () => updateDiameter(row);
        cellType.appendChild(selectType);

        // Diameter
        const cellDiameter = row.insertCell();
        cellDiameter.className = 'text-center';

        // Quantity
        const cellQuantity = row.insertCell();
        const inputQuantity = document.createElement('input');
        inputQuantity.type = 'number';
        inputQuantity.className = 'form-control';
        inputQuantity.min = 1;
        inputQuantity.value = 1;
        cellQuantity.appendChild(inputQuantity);

        // Remove button
        const cellRemove = row.insertCell();
        const btnRemove = document.createElement('button');
        btnRemove.className = 'btn btn-danger btn-sm';
        btnRemove.textContent = 'Remove';
        btnRemove.onclick = () => {
            row.remove();
            updateSerialNumbers(tbody);
        };
        cellRemove.appendChild(btnRemove);

        updateDiameter(row);
    }

    function updateSerialNumbers(tbody) {
        const rows = tbody.querySelectorAll('tr');
        rows.forEach((row, index) => {
            row.cells[0].textContent = index + 1;
        });
    }

    function updateDiameter(row) {
        const type = row.cells[1].firstChild.value;
        const diameter = cableData[type] || 0;
        row.cells[2].textContent = diameter.toFixed(1);
    }

    function calculateBasket(sectionIndex) {
        const section = document.querySelector(`#basketSections > div:nth-child(${sectionIndex})`);
        const rows = section.querySelectorAll('tbody tr');
        let totalArea = 0;

        rows.forEach(row => {
            const diameter = parseFloat(row.cells[2].textContent) || 0;
            const quantity = parseInt(row.cells[3].firstChild.value) || 0;
            totalArea += Math.PI * Math.pow(diameter / 2, 2) * quantity;
        });

        const basketHeight = parseFloat(document.getElementById('basketHeight').value);
        const spareCapacity = parseFloat(document.getElementById('spareCapacity').value) / 100;
        
        const requiredArea = totalArea * 2 * (1 + spareCapacity);
        const requiredWidth = requiredArea / basketHeight;

        let recommendedWidth = basketWidths[basketWidths.length - 1];
        for (const width of basketWidths) {
            if (width >= requiredWidth) {
                recommendedWidth = width;
                break;
            }
        }

        const resultsDiv = section.querySelector('.result-box');
        resultsDiv.innerHTML = `
            <h5>Results for Basket ${sectionIndex}:</h5>
            <p>Required Basket Width: ${requiredWidth.toFixed(2)} mm</p>
            <p>Recommended Basket Size: ${recommendedWidth} x ${basketHeight} mm</p>
        `;
    }

    // Initialize
    setCurrentDate();
    addBasketSection();
    </script>
</body>
</html>
DevelopedbyRadaLab